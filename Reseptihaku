import java.io.File;
import java.util.ArrayList;
import java.util.Scanner;

public class Reseptihaku {
    
    private Resepti resepti;

    public static void main(String[] args) {
        Scanner lukija = new Scanner(System.in);
        
        ArrayList<Resepti> kaikkiReseptit = new ArrayList<>();
        

        System.out.println("Mistä luetaan?");
        String tiedosto = lukija.nextLine();
               
// luodaan lukija tiedoston lukemista varten
        try (Scanner tiedostonLukija = new Scanner(new File(tiedosto))) {

// luetaan kaikki tiedoston rivit
        while (tiedostonLukija.hasNextLine()) {
        String nimi = tiedostonLukija.nextLine();
        int keittoaika = Integer.valueOf(tiedostonLukija.nextLine());
        Resepti resepti = new Resepti(nimi, keittoaika);
        kaikkiReseptit.add(resepti);

        while (tiedostonLukija.hasNextLine() && !tiedostonLukija.nextLine().isEmpty()) {
            String lisattava = tiedostonLukija.nextLine();
            resepti.lisaa(lisattava);
        }

// mikäli rivi on tyhjä, aloitetaan alusta
        if (tiedostonLukija.nextLine().isEmpty()) {
                   continue;
        }   
    }
        
} 
        catch (Exception e) {
        System.out.println("Virhe: " + e.getMessage());
}
        while (true) {
        System.out.println("Komennot:");  
        System.out.println("listaa - listaa reseptit"); 
        System.out.println("lopeta - lopettaa ohjelman");
        
        System.out.println("Syötä komento:");
        String komento = lukija.nextLine();
        
        if (komento.equals("listaa")) {
            for (Resepti resepti : kaikkiReseptit) {
                System.out.println(resepti.nimi() + ", keittoaika: " + resepti.keittoaika());
            }
        }
        if (komento.equals("lopeta")) {
            break;
        }
        
        }
    }
    

    
}
